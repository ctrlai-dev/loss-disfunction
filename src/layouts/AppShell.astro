---
import '../styles/globals.css';
const { title = "LOSS DISFUNCTION", description = 'Music • Story • Universe', sidebar = false } = Astro.props as { title?: string; description?: string; sidebar?: boolean };
---

<astro:head>
  <title>{title}</title>
  <meta name="description" content={description} />
  <link rel="icon" href="/favicon.svg" />
  <link rel="icon" href="/favicon.ico" sizes="any" />
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16" />
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/favicon-64x64.png" sizes="64x64" />
  <link rel="icon" type="image/png" href="/favicon-128x128.png" sizes="128x128" />
  <meta name="theme-color" content="#0b0b12" />
  <link rel="preconnect" href="https://img.youtube.com" />
  <link rel="dns-prefetch" href="https://music.youtube.com" />
  <meta property="og:title" content={title} />
  <meta property="og:description" content={description} />
  <meta property="og:type" content="website" />
</astro:head>

<div class="min-h-screen bg-[#0b0b12] text-[#e5e7eb] flex flex-col overflow-x-hidden">
  <header class="border-b border-white/10">
    <div class="container h-14 flex items-center justify-between">
      <a href="/" class="font-semibold tracking-wide">LOSS DISFUNCTION</a>
      <nav class="text-sm space-x-4">
        <a href="/universe" class="hover:underline">Universe</a>
        <a href="/about" class="hover:underline">About</a>
      </nav>
    </div>
  </header>

  <div class="container py-6 flex-1 flex gap-6">
    {sidebar ? (
      <aside class="hidden md:block w-64 shrink-0 border-r border-white/10 pr-4">
        <div class="text-xs uppercase opacity-70 mb-2">Universe</div>
        <ul class="space-y-1 text-sm">
          <li><a href="/universe" class="block px-2 py-1 rounded hover:bg-white/5">Dashboard</a></li>
          <li class="mt-2 text-xs uppercase opacity-70">Encyclopedia</li>
          <li><a href="/encyclopedia?type=character" class="block px-2 py-1 rounded hover:bg-white/5">Characters</a></li>
          <li><a href="/encyclopedia?type=faction" class="block px-2 py-1 rounded hover:bg-white/5">Factions</a></li>
          <li><a href="/encyclopedia?type=technology" class="block px-2 py-1 rounded hover:bg-white/5">Technology</a></li>
          <li><a href="/encyclopedia?type=location" class="block px-2 py-1 rounded hover:bg-white/5">Locations</a></li>
          <li><a href="/encyclopedia?type=artifact" class="block px-2 py-1 rounded hover:bg-white/5">Artifacts</a></li>
          <li><a href="/encyclopedia?type=theme" class="block px-2 py-1 rounded hover:bg-white/5">Themes</a></li>
          <li class="mt-4 text-xs uppercase opacity-70">Canon</li>
          <li><a href="/universe/logs" class="block px-2 py-1 rounded hover:bg-white/5">System Logs</a></li>
          <li><a href="/universe/archives" class="block px-2 py-1 rounded hover:bg-white/5">Technical Archives</a></li>
          <li><a href="/universe/lexicon" class="block px-2 py-1 rounded hover:bg-white/5">Lexicon</a></li>
        </ul>
      </aside>
    ) : null}

    <main class="flex-1 min-w-0">
      <slot />
    </main>
  </div>

  <footer class="border-t border-white/10">
    <div class="container text-sm text-muted py-6 flex justify-between items-center">
      <div>© {new Date().getFullYear()} LOSS DISFUNCTION</div>
      <a href="mailto:seed@lossdisfunction.com?subject=Message from Loss Disfunction" class="text-cyan hover:text-violet transition-colors">Ping</a>
    </div>
  </footer>
</div>


