[build]
  command = "npm run build"
  publish = "dist"

[build.environment]
  NODE_VERSION = "20"

[[plugins]]
  package = "@netlify/plugin-lighthouse"
[redirects]

[[redirects]]
  from = "/lore"
  to = "/universe/logs"
  status = 301
  force = true

[[redirects]]
  from = "/archives"
  to = "/universe/archives"
  status = 301
  force = true

[[redirects]]
  from = "/lexicon"
  to = "/universe/lexicon"
  status = 301
  force = true

[plugins.inputs]
  output_path = "lighthouse-report.html"

[plugins.inputs.settings]
  timeout = 60000  # 60 seconds timeout

[plugins.inputs.thresholds]
  performance = 0.70
  accessibility = 0.80
  "best-practices" = 1.0
  seo = 1.0

# Define the paths to audit
[[plugins.inputs.audits]]
path = "/"

[[plugins.inputs.audits]]
path = "/about"

[[plugins.inputs.audits]]
path = "/archives"

[[plugins.inputs.audits]]
path = "/lore"

[[plugins.inputs.audits]]
path = "/lexicon"
